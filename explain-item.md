# shop管理系统项目说明

### 技术栈：

+ vue.js
+ vue-router插件实现路由监听
+ vue-cli 脚手架搭建项目
+ element-ui 组件库
+ axios 用来发送请求
+ 编程思想：组件化和模块化

### 登录实现

+ 使用路由导航守卫结合token处理视图访问拦截
+ 使用了element-UI的form表单组件来搭建了登录页面
+ 使用element-ui里的form组件中的表单自带验证方法实现基本的登录验证
+ 使用element-ui的messge消息提醒组件实现登录成功和失败的消息提醒

### 用户管理

#### 1.用户列表

+ 将用户列表挂载到router下面去
+ 在lyout组件中将用户列表注册为子组件
+ 结合axios的拦截器，在请求拦截器中把token设置在请求头中，只要有请求就得通过拦截器
+ 在响应拦截器中，结合router里面的***路由信息对象***实现退出时再登录跳转到退出时的路由
+ 通过路由重置项redirect结合响应拦截器在跳转是把之前的路由信息传递会登录页，登录页通过query就可以获得之前从哪个路由跳转回来的hash值
+ 使用fontAwesome使用自己需要的字体图标

#### 1.1用户列表渲染

+ 使用组件将用户列表渲染出来
+ 使用包装的request组件发送axios请求
+ 使用分页组件将获得数据进行分页展示，提高用户体验和整洁度

#### 1.2新用户的添加

+ 点击添加按钮的时候使用dislog对话框组件弹出添加输入框
+ 点击添加的时候提交id，使用form组件的验证验证表单是否正常填写
+ 在提交的时候禁用提交按钮，防止网络不好的时候用户多次提交
+ 添加成功刷新页面，失败则提醒添加失败

#### 1.3用户状态的改变

+ 根据数据库返回的mg_state来绑定状态
+ 使用自定义表格列将状态栏加载出来，里面绑定的scope是数据库返回数据，scope.row就是每一列的数据，里面保存着当前列的信息
+ 在提交更改的时候，禁用状态按钮，在页面加载的时候获取数据时，在数据里面自定义一个属性，他的值是一个布尔类型，绑定在按钮的disabled属性上面，通过修改这个属性的布尔值，来判断按钮是否禁用，也是为了防止用户网络慢的时候多次点击

#### 1.5 单个用户的删除

+ 使用scope.row将当前行的id作为参数发送，删除当前行
+ 使用一个弹框来提醒用户是否确定删除，确定才删除，取消则返回
+ 删除成功刷新数据，在删除过程中也将状态和删除按钮禁用

#### 1.6 编辑用户

+ 这里使用的是自定义表单的表单列，来传递当前行的数据信息
+ 将编辑用户页面单独注册成一个组件，在传递数据是使用子组件的绑定ref来在父组件中使用子组件中的数据，并且子组件可以自定义事件来调用父组件中的方法，从而达到组件的分离
+ 使用表单验证来规范用户正确操作行为和使用$message方法来使用消息提醒

#### 1.7 分配用户角色

+ 在请求中将多个请求用promise.all方法封装成异步并行，从而提高请求的数据的效率
+ 也是使用的组件分离，方便数据管理和页面整洁，使用ref和自定义事件来达到子组件和父组件之间数据的交互效果

#### 1.8 使用axios里面自带的方法来取消请求

+ 在搜索的时候，为了防止用户网络太差多次不同数据搜索时返回的数据与搜索不一致，在发送一次请求之前，在请求时先把之前的请求都取消

#### 1.9 公共组件面包屑的封装

+ 将多个页面都会使用到的相同的组件进行一个封装，比如面包屑这种组件
+ 在使用时使用props来接受父组件传递的参数，那么每次使用时只需要传递参数即可，并且里面的数据数用v-for遍历的，所以不管多少数据都可以使用这个组件